<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ZEUSVPN</title>
  <meta name="theme-color" content="#070A12" />

  <style>
    :root{
      --bg:#070A12;
      --bg2:#0B1022;
      --card:#0C132B;
      --card2:#0A1024;
      --stroke:rgba(255,255,255,.08);
      --stroke2:rgba(255,255,255,.12);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.62);
      --muted2:rgba(255,255,255,.45);
      --blue:#3DA8FF;
      --cyan:#56F0FF;
      --gold:#FFD27A;
      --danger:#FF5C7A;
      --ok:#36E6A5;

      --r16:16px;
      --r20:20px;
      --shadow: 0 16px 50px rgba(0,0,0,.55);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:
        radial-gradient(1200px 700px at 80% -10%, rgba(61,168,255,.20), transparent 60%),
        radial-gradient(900px 600px at 15% 10%, rgba(86,240,255,.12), transparent 60%),
        radial-gradient(800px 600px at 50% 110%, rgba(255,210,122,.08), transparent 55%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      overflow-x:hidden;
    }

    /* subtle premium grain */
    body:before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.20'/%3E%3C/svg%3E");
      mix-blend-mode:overlay;
      opacity:.10;
    }

    .app{
      max-width:520px;
      margin:0 auto;
      padding:16px 16px 22px;
      padding-bottom: calc(22px + env(safe-area-inset-bottom));
      min-height:100vh;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    /* top bar */
    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:6px 2px;
    }
    .brand{
      display:flex; gap:10px; align-items:center;
    }
    .logo{
      width:38px; height:38px;
      border-radius:14px;
      background:
        radial-gradient(14px 14px at 30% 25%, rgba(86,240,255,.65), transparent 60%),
        radial-gradient(18px 18px at 70% 20%, rgba(61,168,255,.55), transparent 65%),
        radial-gradient(30px 30px at 50% 80%, rgba(255,210,122,.20), transparent 70%),
        linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.03));
      border:1px solid var(--stroke);
      box-shadow: 0 12px 30px rgba(0,0,0,.40);
      position:relative;
      overflow:hidden;
    }
    .logo:after{
      content:"";
      position:absolute; inset:-40%;
      background:conic-gradient(from 210deg, transparent 0 55%, rgba(86,240,255,.35), rgba(61,168,255,.25), transparent 85% 100%);
      animation:spin 8s linear infinite;
      opacity:.55;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    .brand h1{
      margin:0;
      font-size:16px;
      letter-spacing:.8px;
      font-weight:800;
    }
    .brand .sub{
      margin:2px 0 0;
      font-size:12px;
      color:var(--muted);
      letter-spacing:.2px;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:999px;
      background:rgba(255,255,255,.06);
      border:1px solid var(--stroke);
      color:var(--muted);
      font-size:12px;
    }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background:rgba(255,255,255,.25);
      box-shadow:0 0 0 4px rgba(255,255,255,.04);
    }

    /* main hero card */
    .hero{
      border-radius: var(--r20);
      background:
        radial-gradient(700px 260px at 50% 0%, rgba(61,168,255,.18), transparent 60%),
        radial-gradient(400px 220px at 85% 50%, rgba(86,240,255,.10), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      padding:16px;
      overflow:hidden;
      position:relative;
    }
    .hero:after{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(260px 180px at 18% 15%, rgba(255,210,122,.10), transparent 60%),
        radial-gradient(260px 180px at 90% 30%, rgba(61,168,255,.08), transparent 65%);
      pointer-events:none;
    }
    .heroTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      position:relative;
      z-index:2;
    }
    .heroTitle{
      display:flex; flex-direction:column; gap:6px;
    }
    .heroTitle .t{
      font-size:18px;
      font-weight:820;
      letter-spacing:.4px;
      margin:0;
    }
    .heroTitle .d{
      margin:0;
      font-size:12.5px;
      color:var(--muted);
      line-height:1.35;
    }

    .ctaRow{
      margin-top:14px;
      display:flex;
      gap:10px;
      position:relative;
      z-index:2;
    }

    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius:16px;
      padding:13px 14px;
      font-weight:800;
      letter-spacing:.2px;
      font-size:13px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      transition: transform .12s ease, filter .12s ease, opacity .2s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: scale(.98); }
    .btn.primary{
      flex:1;
      background:
        radial-gradient(180px 120px at 30% 20%, rgba(86,240,255,.55), transparent 60%),
        radial-gradient(260px 140px at 70% 0%, rgba(61,168,255,.65), transparent 65%),
        linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.18);
      color:#081022;
      box-shadow: 0 18px 40px rgba(0,0,0,.45);
    }
    .btn.ghost{
      width:52px;
      background: rgba(255,255,255,.06);
      border:1px solid var(--stroke);
      color:var(--text);
    }

    /* navigation */
    .tabs{
      display:flex;
      gap:10px;
      padding:10px;
      border-radius: 18px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      backdrop-filter: blur(10px);
    }
    .tab{
      flex:1;
      border:none;
      border-radius: 14px;
      padding:12px 10px;
      font-size:13px;
      font-weight:800;
      color:var(--muted);
      background:transparent;
      transition: transform .12s ease, background .2s ease, color .2s ease;
      cursor:pointer;
    }
    .tab:active{ transform: scale(.98); }
    .tab.active{
      color:var(--text);
      background:
        radial-gradient(180px 80px at 50% 0%, rgba(61,168,255,.18), transparent 65%),
        rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
    }

    /* screens + iOS-like transitions */
    .screenWrap{
      position:relative;
      flex:1;
      min-height: 360px;
    }
    .screen{
      position:absolute; inset:0;
      opacity:0;
      transform: translateX(14px);
      pointer-events:none;
      transition: opacity .22s ease, transform .22s ease;
    }
    .screen.active{
      opacity:1;
      transform: translateX(0px);
      pointer-events:auto;
    }
    .screen.out{
      opacity:0;
      transform: translateX(-14px);
    }

    /* content cards */
    .card{
      border-radius: var(--r20);
      border:1px solid var(--stroke);
      background:
        linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      padding:14px;
    }
    .card h3{
      margin:0 0 10px;
      font-size:13px;
      letter-spacing:.2px;
      color:var(--muted);
      font-weight:900;
      text-transform:uppercase;
    }
    .rows{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px;
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.06);
    }
    .row .k{
      color:var(--muted);
      font-size:12px;
      font-weight:700;
    }
    .row .v{
      color:var(--text);
      font-size:12.5px;
      font-weight:900;
      letter-spacing:.2px;
    }

    /* instructions swipe */
    .swipe{
      overflow:hidden;
      border-radius: var(--r20);
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
    }
    .swipeInner{
      display:flex;
      width:300%;
      transform: translateX(0%);
      transition: transform .26s ease;
    }
    .slide{
      width:100%;
      padding:16px;
      min-height: 220px;
      position:relative;
    }
    .slide h2{
      margin:0 0 8px;
      font-size:16px;
      font-weight:900;
    }
    .slide p{
      margin:0;
      color:var(--muted);
      line-height:1.5;
      font-size:13px;
    }
    .steps{
      margin-top:12px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .step{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding:10px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.06);
      background: rgba(0,0,0,.16);
    }
    .badge{
      width:22px; height:22px;
      border-radius: 8px;
      display:flex; align-items:center; justify-content:center;
      font-size:12px;
      font-weight:900;
      color:#071021;
      background:
        radial-gradient(16px 10px at 30% 20%, rgba(86,240,255,.8), transparent 60%),
        radial-gradient(16px 12px at 70% 20%, rgba(61,168,255,.7), transparent 65%),
        linear-gradient(180deg, rgba(255,255,255,.20), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.16);
    }
    .dots{
      display:flex;
      gap:8px;
      justify-content:center;
      padding:12px 0 8px;
    }
    .dots span{
      width:7px; height:7px;
      border-radius:99px;
      background: rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.06);
    }
    .dots span.active{
      width:22px;
      background: rgba(61,168,255,.35);
      border-color: rgba(61,168,255,.25);
      box-shadow: 0 0 0 4px rgba(61,168,255,.10);
    }
    .swipeNav{
      display:flex;
      gap:10px;
      padding:12px;
      padding-top:0;
    }
    .swipeNav .btn{
      flex:1;
      background: rgba(255,255,255,.06);
      color:var(--text);
      border:1px solid var(--stroke);
      font-weight:900;
    }

    /* modal */
    .overlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      display:none;
      align-items:flex-end;
      justify-content:center;
      z-index:50;
      padding: 14px;
      padding-bottom: calc(14px + env(safe-area-inset-bottom));
    }
    .overlay.show{ display:flex; }
    .modal{
      width:100%;
      max-width:520px;
      border-radius: 26px;
      border:1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(620px 240px at 50% 0%, rgba(61,168,255,.18), transparent 60%),
        linear-gradient(180deg, rgba(15,22,48,.92), rgba(7,10,18,.92));
      box-shadow: 0 26px 70px rgba(0,0,0,.70);
      overflow:hidden;
      transform: translateY(8px);
      animation: pop .18s ease forwards;
    }
    @keyframes pop{ to{ transform: translateY(0px);} }

    .modalHead{
      padding:14px 14px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .modalHead .title{
      display:flex; flex-direction:column;
      gap:2px;
    }
    .modalHead h2{
      margin:0;
      font-size:15px;
      font-weight:950;
      letter-spacing:.2px;
    }
    .modalHead p{
      margin:0;
      font-size:12px;
      color:var(--muted);
    }
    .xbtn{
      width:42px; height:42px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color:var(--text);
      cursor:pointer;
      transition: transform .12s ease;
    }
    .xbtn:active{ transform: scale(.96); }

    .modalBody{
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .group{
      display:flex; flex-direction:column; gap:10px;
      padding:12px;
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.18);
    }
    .groupTitle{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
    }
    .groupTitle .l{
      color:var(--muted);
      font-size:12px;
      font-weight:900;
      letter-spacing:.18px;
      text-transform:uppercase;
    }
    .chips{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .chip{
      position:relative;
      border:none;
      cursor:pointer;
      padding:10px 12px;
      border-radius: 16px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.08);
      color:var(--text);
      font-weight:900;
      font-size:13px;
      display:flex;
      align-items:center;
      gap:8px;
      transition: transform .12s ease, filter .12s ease, background .2s ease, border-color .2s ease;
      -webkit-tap-highlight-color: transparent;
      user-select:none;
    }
    .chip:active{ transform: scale(.98); }
    .chip.active{
      background:
        radial-gradient(140px 80px at 40% 0%, rgba(86,240,255,.26), transparent 60%),
        rgba(255,255,255,.07);
      border-color: rgba(86,240,255,.20);
      box-shadow: 0 0 0 4px rgba(86,240,255,.06);
    }

    .tag{
      font-size:10px;
      font-weight:950;
      letter-spacing:.3px;
      padding:6px 8px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.86);
    }
    .tag.pop{
      background: rgba(61,168,255,.14);
      border-color: rgba(61,168,255,.20);
      color: rgba(196,232,255,.96);
    }
    .tag.best{
      background: rgba(255,210,122,.12);
      border-color: rgba(255,210,122,.18);
      color: rgba(255,237,207,.96);
    }

    /* 3D choice card + shimmer */
    .choiceCard{
      position:relative;
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.10);
      background:
        radial-gradient(420px 160px at 30% 0%, rgba(86,240,255,.18), transparent 60%),
        radial-gradient(420px 160px at 80% 10%, rgba(61,168,255,.16), transparent 62%),
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      box-shadow: 0 22px 60px rgba(0,0,0,.55);
      padding:14px;
      transform: perspective(900px) rotateX(6deg);
      overflow:hidden;
    }
    .choiceCard:before{
      /* very —Å–ª–∞–±—ã–π shimmer */
      content:"";
      position:absolute;
      inset:-60% -60%;
      background: linear-gradient(110deg,
        transparent 35%,
        rgba(255,255,255,.06) 45%,
        rgba(255,255,255,.10) 50%,
        rgba(255,255,255,.06) 55%,
        transparent 65%);
      transform: translateX(-30%) rotate(8deg);
      animation: shimmer 4.8s ease-in-out infinite;
      opacity:.35;
      pointer-events:none;
    }
    @keyframes shimmer{
      0%{ transform: translateX(-40%) rotate(8deg); }
      50%{ transform: translateX(10%) rotate(8deg); }
      100%{ transform: translateX(-40%) rotate(8deg); }
    }

    .choiceTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      position:relative;
      z-index:2;
    }
    .choiceTop .name{
      font-weight:950;
      letter-spacing:.25px;
      font-size:14px;
      margin:0;
    }
    .choiceTop .desc{
      margin:6px 0 0;
      color:var(--muted);
      font-size:12px;
      line-height:1.35;
    }
    .price{
      text-align:right;
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:4px;
      position:relative;
      z-index:2;
    }
    .price .val{
      font-weight:980;
      letter-spacing:.2px;
      font-size:18px;
    }
    .price .cur{
      color:var(--muted);
      font-weight:800;
      font-size:11px;
      letter-spacing:.25px;
    }

    .modalFoot{
      padding:14px;
      border-top:1px solid rgba(255,255,255,.06);
      display:flex;
      gap:10px;
    }
    .modalFoot .btn.primary{
      color:#081022;
    }

    .small{
      font-size:12px;
      color:var(--muted);
      line-height:1.35;
    }

    /* config view */
    .configBox{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
      padding:12px;
      overflow:hidden;
    }
    textarea{
      width:100%;
      min-height:92px;
      resize:none;
      border:none;
      outline:none;
      background:transparent;
      color:rgba(255,255,255,.90);
      font-size:12.5px;
      line-height:1.35;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    }

    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform:translateX(-50%);
      background: rgba(0,0,0,.78);
      border:1px solid rgba(255,255,255,.12);
      color: rgba(255,255,255,.92);
      padding:10px 12px;
      border-radius: 14px;
      font-size:12px;
      box-shadow: 0 16px 40px rgba(0,0,0,.55);
      opacity:0;
      pointer-events:none;
      transition: opacity .2s ease, transform .2s ease;
      z-index:90;
      max-width: 92vw;
    }
    .toast.show{
      opacity:1;
      transform:translateX(-50%) translateY(-6px);
    }

    .dividerLine{
      height:1px;
      background: linear-gradient(90deg, transparent, rgba(61,168,255,.35), transparent);
      opacity:.6;
      margin: 6px 0;
    }

    .danger{ color: var(--danger); }
    .ok{ color: var(--ok); }

    .miniRow{
      display:flex; gap:10px; flex-wrap:wrap;
    }
    .miniBtn{
      flex:1;
      min-width: 140px;
      padding:12px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.92);
      font-weight:900;
      cursor:pointer;
      transition: transform .12s ease;
    }
    .miniBtn:active{ transform:scale(.98); }
  </style>
</head>

<body>
  <div class="app">

    <div class="top">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>ZEUSVPN</h1>
          <p class="sub">–ü—Ä–µ–º–∏—É–º VPN ‚Ä¢ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</p>
        </div>
      </div>
      <div class="pill" title="–°—Ç–∞—Ç—É—Å">
        <span class="dot" id="statusDot"></span>
        <span id="statusText">Ready</span>
      </div>
    </div>

    <div class="hero">
      <div class="heroTop">
        <div class="heroTitle">
          <p class="t">–ó–∞—â–∏—Ç–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å ‚Äî –≤ –æ–¥–∏–Ω —Ç–∞–ø</p>
          <p class="d">–ù–∞–∂–º–∏ ‚Äú–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥‚Äù ‚Üí –≤—ã–±–µ—Ä–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Å—Ä–æ–∫ ‚Üí –æ–ø–ª–∞—Ç–∞ Stars ‚Üí –∫–æ–Ω—Ñ–∏–≥ –ø–æ—è–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
        </div>
      </div>

      <div class="dividerLine"></div>

      <div class="ctaRow">
        <button class="btn primary" id="openBuy">
          ‚ö° –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥
        </button>
        <button class="btn ghost" id="goProfile" title="–ü—Ä–æ—Ñ–∏–ª—å">üë§</button>
      </div>
    </div>

    <div class="tabs">
      <button class="tab active" data-tab="home">–ì–ª–∞–≤–Ω–∞—è</button>
      <button class="tab" data-tab="instructions">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</button>
      <button class="tab" data-tab="profile">–ü—Ä–æ—Ñ–∏–ª—å</button>
    </div>

    <div class="screenWrap">
      <!-- HOME -->
      <section class="screen active" id="screen-home">
        <div class="card">
          <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
          <div class="miniRow">
            <button class="miniBtn" id="openBuy2">‚ö° –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥</button>
            <button class="miniBtn" id="openPayStub">üí≥ –û–ø–ª–∞—Ç–∞</button>
          </div>
          <p reminder class="small" style="margin:10px 0 0;">
            –û–ø–ª–∞—Ç–∞ Crypto/—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–∂–µ –≤ backend –µ—Å—Ç—å, —Å–µ–π—á–∞—Å UI –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ.
          </p>
        </div>

        <div class="card">
          <h3>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h3>
          <div class="rows">
            <div class="row">
              <div>
                <div class="k">–°–∫–æ—Ä–æ—Å—Ç—å</div>
                <div class="v">Turbo routing</div>
              </div>
              <div class="v">‚ö°</div>
            </div>
            <div class="row">
              <div>
                <div class="k">–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å</div>
                <div class="v">No logs</div>
              </div>
              <div class="v">üõ°Ô∏è</div>
            </div>
            <div class="row">
              <div>
                <div class="k">–£–¥–æ–±—Å—Ç–≤–æ</div>
                <div class="v">Copy & Import</div>
              </div>
              <div class="v">üìé</div>
            </div>
          </div>
        </div>
      </section>

      <!-- INSTRUCTIONS -->
      <section class="screen" id="screen-instructions">
        <div class="swipe">
          <div class="swipeInner" id="swipeInner">
            <div class="slide">
              <h2>iOS</h2>
              <p>–û—Ç–∫—Ä–æ–π V2Box / Shadowrocket / Streisand –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π –∫–æ–Ω—Ñ–∏–≥.</p>
              <div class="steps">
                <div class="step"><span class="badge">1</span><span>–°–∫–æ–ø–∏—Ä—É–π –∫–æ–Ω—Ñ–∏–≥</span></div>
                <div class="step"><span class="badge">2</span><span>–ò–º–ø–æ—Ä—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</span></div>
                <div class="step"><span class="badge">3</span><span>–ü–æ–¥–∫–ª—é—á–∏—Å—å</span></div>
              </div>
            </div>
            <div class="slide">
              <h2>Android</h2>
              <p>v2rayNG / V2RayTun: –≤—Å—Ç–∞–≤—å VLESS —Å—Å—ã–ª–∫—É –∫–∞–∫ –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å.</p>
              <div class="steps">
                <div class="step"><span class="badge">1</span><span>+ ‚Üí Import from clipboard</span></div>
                <div class="step"><span class="badge">2</span><span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span></div>
                <div class="step"><span class="badge">3</span><span>–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</span></div>
              </div>
            </div>
            <div class="slide">
              <h2>Desktop</h2>
              <p>Windows/macOS: V2RayN / Nekoray / Clash (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç).</p>
              <div class="steps">
                <div class="step"><span class="badge">1</span><span>Import / Paste</span></div>
                <div class="step"><span class="badge">2</span><span>–í—ã–±—Ä–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</span></div>
                <div class="step"><span class="badge">3</span><span>Connect</span></div>
              </div>
            </div>
          </div>
          <div class="dots" id="dots">
            <span class="active"></span><span></span><span></span>
          </div>
          <div class="swipeNav">
            <button class="btn" id="prevSlide">‚Üê</button>
            <button class="btn" id="nextSlide">‚Üí</button>
          </div>
        </div>
      </section>

      <!-- PROFILE -->
      <section class="screen" id="screen-profile">
        <div class="card">
          <h3>–ü—Ä–æ—Ñ–∏–ª—å</h3>
          <div class="rows">
            <div class="row">
              <div class="k">ID</div>
              <div class="v" id="userId">guest-0000</div>
            </div>
            <div class="row">
              <div class="k">–ü–æ–¥–ø–∏—Å–∫–∞</div>
              <div class="v" id="subStatus">–ù–µ –∞–∫—Ç–∏–≤–Ω–∞</div>
            </div>
          </div>

          <div class="ctaRow" style="margin-top:12px">
            <button class="btn primary" id="resetId">üîÅ –ù–æ–≤—ã–π ID</button>
            <button class="btn ghost" id="copyId" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å">üìã</button>
          </div>

          <p class="small" style="margin:10px 0 0;">
            –ü–æ—Ç–æ–º –ø–æ–¥–∫–ª—é—á–∏–º Telegram Mini App –ø—Ä–æ—Ñ–∏–ª—å –∏ —Ä–µ–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏.
          </p>
        </div>

        <div class="card">
          <h3>–ò—Å—Ç–æ—Ä–∏—è –≤—ã–¥–∞—á</h3>
          <p class="small">–°–∫–æ—Ä–æ: –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏, –¥–∞—Ç—ã, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. (UI –¥–æ–±–∞–≤–∏–º —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º)</p>
        </div>
      </section>
    </div>

  </div>

  <!-- BUY MODAL -->
  <div class="overlay" id="overlay">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modalHead">
        <div class="title">
          <h2>–í—ã–±–æ—Ä –ø–æ–¥–ø–∏—Å–∫–∏</h2>
          <p>–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Å—Ä–æ–∫ ‚Äî –ø–æ—Ç–æ–º –æ–ø–ª–∞—Ç–∞.</p>
        </div>
        <button class="xbtn" id="closeModal">‚úï</button>
      </div>

      <div class="modalBody">

        <div class="group">
          <div class="groupTitle">
            <div class="l">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</div>
          </div>
          <div class="chips" id="devicesChips">
            <button class="chip active" data-dev="1">1</button>
            <button class="chip" data-dev="3">3</button>
            <button class="chip" data-dev="5">5</button>
            <button class="chip" data-dev="10">10</button>
          </div>
        </div>

        <div class="group">
          <div class="groupTitle">
            <div class="l">–°—Ä–æ–∫</div>
          </div>
          <div class="chips" id="daysChips">
            <button class="chip active" data-days="30">
              30 –¥–Ω–µ–π <span class="tag pop">–ü–æ–ø—É–ª—è—Ä–Ω–æ</span>
            </button>
            <button class="chip" data-days="90">90 –¥–Ω–µ–π</button>
            <button class="chip" data-days="180">
              180 –¥–Ω–µ–π <span class="tag best">–í—ã–≥–æ–¥–Ω–µ–µ</span>
            </button>
          </div>
        </div>

        <div class="choiceCard" id="choiceCard">
          <div class="choiceTop">
            <div>
              <p class="name" id="choiceName">ZEUSVPN ‚Ä¢ 1 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</p>
              <p class="desc" id="choiceDesc">–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 30 –¥–Ω–µ–π. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞.</p>
            </div>
            <div class="price">
              <div class="val" id="choicePrice">199</div>
              <div class="cur">Stars ‚Ä¢ XTR</div>
            </div>
          </div>
        </div>

        <div class="configBox" id="configBox" style="display:none">
          <textarea id="configText" readonly></textarea>
          <div class="ctaRow" style="margin-top:10px">
            <button class="btn primary" id="copyConfig">üìé –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            <button class="btn ghost" id="closeAfter" title="–ó–∞–∫—Ä—ã—Ç—å">‚úì</button>
          </div>
        </div>

        <p class="small" id="payHint">
          –ù–∞–∂–º–∏ ‚Äú–û–ø–ª–∞—Ç–∏—Ç—å Stars‚Äù, –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∏–Ω–≤–æ–π—Å. –ú—ã –ø—Ä–æ–≤–µ—Ä–∏–º —Å—Ç–∞—Ç—É—Å –∏ –ø–æ–∫–∞–∂–µ–º –∫–æ–Ω—Ñ–∏–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
        </p>

      </div>

      <div class="modalFoot">
        <button class="btn primary" id="payStarsBtn">üí´ –û–ø–ª–∞—Ç–∏—Ç—å Stars ‚Ä¢ 199</button>
        <button class="btn ghost" id="cancelBtn" title="–û—Ç–º–µ–Ω–∞">‚ü≤</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    /* =========================
       CONFIG
    ========================== */
    const API_BASE = "https://api.45.133.251.210.nip.io:8443";
    const DEFAULT_INBOUND_ID = 1;

    /* =========================
       Helpers
    ========================== */
    const $ = (q)=>document.querySelector(q);
    const $$ = (q)=>Array.from(document.querySelectorAll(q));

    function toast(msg){
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      setTimeout(()=>t.classList.remove("show"), 1700);
    }

    function haptic(type="selection"){
      // Telegram WebApp haptic
      try{
        const tg = window.Telegram?.WebApp;
        if(!tg) return;
        if(tg.HapticFeedback){
          if(type === "success") tg.HapticFeedback.notificationOccurred("success");
          else if(type === "error") tg.HapticFeedback.notificationOccurred("error");
          else tg.HapticFeedback.selectionChanged();
        }
      }catch(e){}
    }

    function microScale(el){
      el.style.transform = "scale(.985)";
      setTimeout(()=> el.style.transform = "", 120);
    }

    async function api(path, opts={}){
      const res = await fetch(API_BASE + path, {
        ...opts,
        headers: {
          "Content-Type":"application/json",
          ...(opts.headers||{})
        }
      });
      if(!res.ok){
        const txt = await res.text().catch(()=> "");
        throw new Error(txt || ("HTTP " + res.status));
      }
      return res.json();
    }

    function formatDate(tsOrIso){
      try{
        const d = typeof tsOrIso === "number" ? new Date(tsOrIso) : new Date(tsOrIso);
        return d.toLocaleDateString("ru-RU", {year:"numeric", month:"2-digit", day:"2-digit"});
      }catch(e){ return "-"; }
    }

    /* =========================
       State
    ========================== */
    const state = {
      user_key: localStorage.getItem("zeus_user_key") || ("guest-" + Math.floor(Math.random()*9000+1000)),
      devices: 1,
      days: 30,
      priceMap: { 30:199, 90:399, 180:599 }, // –º–æ–∂–µ—à—å –º–µ–Ω—è—Ç—å –∫–∞–∫ —Ö–æ—á–µ—à—å
      order_id: null,
      pollTimer: null
    };
    localStorage.setItem("zeus_user_key", state.user_key);

    $("#userId").textContent = state.user_key;

    /* =========================
       Tabs / Screens
    ========================== */
    const screens = {
      home: $("#screen-home"),
      instructions: $("#screen-instructions"),
      profile: $("#screen-profile"),
    };
    let currentTab = "home";

    function switchTab(to){
      if(to === currentTab) +0;
      // iOS-like fade + slide
      const fromEl = screens[currentTab];
      const toEl = screens[to];
      $$(".tab").forEach(b=>b.classList.toggle("active", b.dataset.tab === to));

      fromEl.classList.remove("active");
      fromEl.classList.add("out");
      setTimeout(()=> fromEl.classList.remove("out"), 250);

      toEl.classList.add("active");
      currentTab = to;
      haptic("selection");
    }

    $$(".tab").forEach(btn=>{
      btn.addEventListener("click", ()=> switchTab(btn.dataset.tab));
    });
    $("#goProfile").addEventListener("click", ()=> switchTab("profile"));

    /* =========================
       Swipe Instructions
    ========================== */
    let slideIndex = 0;
    function renderSlide(){
      $("#swipeInner").style.transform = `translateX(-${slideIndex*100}%)`;
      const dots = $$("#dots span");
      dots.forEach((d,i)=>d.classList.toggle("active", i===slideIndex));
    }
    $("#prevSlide").addEventListener("click", ()=>{
      slideIndex = (slideIndex + 2) % 3;
      renderSlide(); haptic("selection");
    });
    $("#nextSlide").addEventListener("click", ()=>{
      slideIndex = (slideIndex + 1) % 3;
      renderSlide(); haptic("selection");
    });

    /* =========================
       Profile actions
    ========================== */
    $("#resetId").addEventListener("click", ()=>{
      haptic("selection");
      const newId = "guest-" + Math.floor(Math.random()*900000+100000);
      state.user_key = newId;
      localStorage.setItem("zeus_user_key", newId);
      $("#userId").textContent = newId;
      toast("–ù–æ–≤—ã–π ID —Å–æ–∑–¥–∞–Ω");
    });
    $("#copyId").addEventListener("click", async ()=>{
      haptic("selection");
      await navigator.clipboard.writeText(state.user_key);
      toast("ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω");
    });

    /* =========================
       Modal open/close
    ========================== */
    const overlay = $("#overlay");

    function openModal(){
      overlay.classList.add("show");
      // reset UI parts
      $("#configBox").style.display = "none";
      $("#payHint").style.display = "block";
      $("#payStarsBtn").disabled = false;
      $("#payStarsBtn").style.opacity = "1";
      $("#payStarsBtn").textContent = `üí´ –û–ø–ª–∞—Ç–∏—Ç—å Stars ‚Ä¢ ${state.priceMap[state.days]}`;
      updateChoiceCard();
      haptic("selection");
    }
    function closeModal(){
      overlay.classList.remove("show");
      stopPolling();
      state.order_id = null;
    }

    $("#openBuy").addEventListener("click", ()=>{ microScale($("#openBuy")); openModal(); });
    $("#openBuy2").addEventListener("click", ()=> openModal());
    $("#closeModal").addEventListener("click", closeModal);
    $("#cancelBtn").addEventListener("click", closeModal);
    $("#closeAfter").addEventListener("click", closeModal);

    overlay.addEventListener("click", (e)=>{
      if(e.target === overlay) closeModal();
    });

    /* =========================
       Chips logic (devices/days)
    ========================== */
    function setActiveChips(containerSel, attr, value){
      $$(containerSel + " .chip").forEach(c=>{
        c.classList.toggle("active", c.getAttribute(attr) == String(value));
      });
    }

    function updateChoiceCard(){
      const price = state.priceMap[state.days] ?? 199;
      $("#choicePrice").textContent = price;

      const dev = state.devices;
      const days = state.days;

      $("#choiceName").textContent = `ZEUSVPN ‚Ä¢ ${dev} ${dev===1 ? "—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ" : "—É—Å—Ç—Ä–æ–π—Å—Ç–≤"}`;
      const desc = (days===30)
        ? "–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 30 –¥–Ω–µ–π. –°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –≤—ã–±–æ—Ä."
        : (days===180)
          ? "–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 180 –¥–Ω–µ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã–≥–æ–¥–∞."
          : `–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ ${days} –¥–Ω–µ–π. –ë–∞–ª–∞–Ω—Å —Ü–µ–Ω—ã –∏ —Å—Ä–æ–∫–∞.`;
      $("#choiceDesc").textContent = desc;

      $("#payStarsBtn").textContent = `üí´ –û–ø–ª–∞—Ç–∏—Ç—å Stars ‚Ä¢ ${price}`;
    }

    $("#devicesChips").addEventListener("click", (e)=>{
      const chip = e.target.closest(".chip");
      if(!chip) return;
      const dev = parseInt(chip.dataset.dev,10);
      state.devices = dev;
      setActiveChips("#devicesChips", "data-dev", dev);
      updateChoiceCard();
      haptic("selection");
      microScale(chip);
    });

    $("#daysChips").addEventListener("click", (e)=>{
      const chip = e.target.closest(".chip");
      if(!chip) return;
      const days = parseInt(chip.dataset.days,10);
      state.days = days;
      setActiveChips("#daysChips", "data-days", days);
      updateChoiceCard();
      haptic("selection");
      microScale(chip);
    });

    /* =========================
       Payment flow (Stars)
       1) /pay/stars/create
       2) open invoice
       3) poll /pay/order/{id}
       4) when paid -> /issue-config -> show config
    ========================== */
    function openTelegramInvoice(url){
      const tg = window.Telegram?.WebApp;
      if(tg?.openInvoice){
        tg.openInvoice(url, (status)=>{
          // status: "paid"/"cancelled"/"failed"/"pending"
          // –º—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–ª–ª–∏–º backend
        });
      }else{
        // fallback outside TG: open in new tab
        window.open(url, "_blank");
      }
    }

    function stopPolling(){
      if(state.pollTimer){
        clearInterval(state.pollTimer);
        state.pollTimer = null;
      }
    }

    async function pollOrder(orderId){
      try{
        const o = await api(`/pay/order/${orderId}`, { method:"GET" });
        // show some status in pill
        $("#statusText").textContent = o.status === "paid" ? "Paid" : "Waiting‚Ä¶";
        $("#statusDot").style.background = (o.status === "paid") ? "rgba(54,230,165,.9)" : "rgba(255,255,255,.25)";

        if(o.status === "paid"){
          stopPolling();
          haptic("success");

          // request config (issue-config)
          $("#statusText").textContent = "Issuing‚Ä¶";
          const resp = await api(`/issue-config`, {
            method:"POST",
            body: JSON.stringify({
              inbound_id: DEFAULT_INBOUND_ID,
              user_key: state.user_key,   // –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ tg id –ø–æ–∑–∂–µ
              days: state.days,
              limit_ip: 0
            })
          });

          const link = resp.link || resp.config || resp.url || "";
          $("#configText").value = link || "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥.";
          $("#configBox").style.display = "block";
          $("#payHint").style.display = "none";
          $("#payStarsBtn").disabled = true;
          $("#payStarsBtn").style.opacity = ".55";
          $("#payStarsBtn").textContent = "‚úÖ –û–ø–ª–∞—á–µ–Ω–æ";

          $("#subStatus").innerHTML = `–ê–∫—Ç–∏–≤–Ω–∞ <span class="ok">–¥–æ</span> ‚Ä¶`;
          toast("–ì–æ—Ç–æ–≤–æ! –ö–æ–Ω—Ñ–∏–≥ –ø–æ–ª—É—á–µ–Ω");
        }

      }catch(err){
        // keep polling but show minimal
      }
    }

    $("#payStarsBtn").addEventListener("click", async ()=>{
      try{
        haptic("selection");
        microScale($("#payStarsBtn"));

        const price = state.priceMap[state.days] ?? 199;

        const data = await api(`/pay/stars/create`, {
          method:"POST",
          body: JSON.stringify({
            user_key: state.user_key,
            days: state.days,
            devices: state.devices
          })
        });

        state.order_id = data.order_id;
        const invoice = data.invoice_link;

        if(!invoice || !state.order_id){
          throw new Error("No invoice/order_id");
        }

        toast("–ò–Ω–≤–æ–π—Å —Å–æ–∑–¥–∞–Ω");
        openTelegramInvoice(invoice);

        // poll every 1.2s
        stopPolling();
        state.pollTimer = setInterval(()=> pollOrder(state.order_id), 1200);
        $("#statusText").textContent = "Waiting‚Ä¶";

      }catch(err){
        haptic("error");
        toast("–û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã: " + (err.message || "unknown"));
      }
    });

    $("#copyConfig").addEventListener("click", async ()=>{
      try{
        haptic("selection");
        const txt = $("#configText").value.trim();
        if(!txt){ toast("–ü—É—Å—Ç–æ"); return; }
        await navigator.clipboard.writeText(txt);
        toast("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ");
      }catch(e){
        toast("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å");
      }
    });

    /* =========================
       Payment stub button (home)
    ========================== */
    $("#openPayStub").addEventListener("click", ()=>{
      toast("–û–ø–ª–∞—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ ‚Äú–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥‚Äù");
      haptic("selection");
    });

    /* =========================
       Initial ping health
    ========================== */
    (async ()=>{
      try{
        await api("/health", { method:"GET" });
        $("#statusText").textContent = "Online";
        $("#statusDot").style.background = "rgba(54,230,165,.85)";
      }catch(e){
        $("#statusText").textContent = "Offline";
        $("#statusDot").style.background = "rgba(255,92,122,.85)";
      }
    })();
  </script>
</body>
</html>
